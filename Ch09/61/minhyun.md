# 자바의 타입

## 기본타입

- int
- double
- boolean 등

## 참조타입

- String
- List 등
- 각 기본타입에 대응하는 참조 타입
    - Integer
    - Double
    - Boolean 등

# 기본타입과 참조타임의 차이점

1. **기본타입은 값만 갖고있지만, 박싱 타입은 값에 식별성이란 속성이 더해진다.**
    - 즉, 박싱된 기본타입의 두 인스턴스는 값이 같아도 서로 다르다고 식별될 수 있다.
2. **기본타입의 값은 언제나 유효하나 박싱 타입은 null을 가질 수 있다.**
3. **기본 타입이 박싱된 기본 타입보다 시간과 메모리 사용면에서 더 효율적이다.**

# 참조타입의 문제

1. 동등성 보장이 됨을 신경써야 한다.
2. 언박싱시 NPE 문제가 발생할 수 있어 신경써야 한다.
3. 성능이 느려진다.

# 비교시 생기는 문제 (동일성 문제)

```java
Comparator<Integer> naturalOrder =
	(i, j) -> (i < j) ? -1 : (i == j ? 0 : 1)

naturalOrder.compare(new Integer(42), new Integer(42))
// 값이 42로 같아 0을 출력해야 하지만 실제론 1을 출력한다. (첫번째가 더 크다고 주장)
```

## 원인 및 결과

첫번째 `(i < j)` 부분에서는 잘 넘어가나 `i == j` 부분에서 각 Integer 객체의 동등성이 보장되지 않아 잘못된 결과가 반환된다.

**박싱된 기본 타입에 `==` 연산자를 사용하면 위와 같은 결과가 일어나기 때문에 사용하지 말자.**

# 박싱된 기본 타입은 언제 쓰냐?

1. 컬렉션의 원소, 키, 값으로 사용
    - 컬렉션은 기본 타입을 담을 수 없어 어쩔수 없이 박싱된 기본타입을 써야한다.
2. 리플렉션을 통해 메서드 호출시 사용